(()=>{var e,t,n,o,r={92:()=>{!function(){"use strict";var e=window.jQuery,t="abcdefgh".split(""),n="1.8.3",o=w("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"),r={};function i(e,t,n){function o(){r=0,i&&(i=!1,a())}var r=0,i=!1,s=[],a=function(){r=window.setTimeout(o,t),e.apply(n,s)};return function(e){s=arguments,r?i=!0:a()}}function s(){return"xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx".replace(/x/g,(function(e){return(16*Math.random()|0).toString(16)}))}function a(e){return JSON.parse(JSON.stringify(e))}function c(e){var t=e.split(".");return{major:parseInt(t[0],10),minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}function h(e,t){for(var n in t)if(t.hasOwnProperty(n))for(var o="{"+n+"}",r=t[n];-1!==e.indexOf(o);)e=e.replace(o,r);return e}function l(e){return"string"==typeof e}function u(e){return"function"==typeof e}function d(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function p(e){return"fast"===e||"slow"===e||!!d(e)&&0<=e}function f(e){if(!l(e))return!1;var t=e.split("-");return 2===t.length&&g(t[0])&&g(t[1])}function g(e){return l(e)&&-1!==e.search(/^[a-h][1-8]$/)}function m(e){return l(e)&&-1!==e.search(/^[bw][KQRNBP]$/)}function A(e){if(!l(e))return!1;var t=(e=function(e){return e.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}(e=e.replace(/ .+$/,""))).split("/");if(8!==t.length)return!1;for(var n=0;n<8;n++)if(8!==t[n].length||-1!==t[n].search(/[^kqrnbpKQRNBP1]/))return!1;return!0}function v(t){if(!e.isPlainObject(t))return!1;for(var n in t)if(t.hasOwnProperty(n)&&(!g(n)||!m(t[n])))return!1;return!0}function b(){return typeof window.$&&e.fn&&e.fn.jquery&&function(e,t){e=c(e),t=c(t);var n=1e5*e.major*1e5+1e5*e.minor+e.patch;return 1e5*t.major*1e5+1e5*t.minor+t.patch<=n}(e.fn.jquery,n)}function w(e){if(!A(e))return!1;for(var n,o=(e=e.replace(/ .+$/,"")).split("/"),r={},i=8,s=0;s<8;s++){for(var a=o[s].split(""),c=0,h=0;h<a.length;h++)-1!==a[h].search(/[1-8]/)?c+=parseInt(a[h],10):(r[t[c]+i]=(n=a[h]).toLowerCase()===n?"b"+n.toUpperCase():"w"+n.toUpperCase(),c+=1);i-=1}return r}function C(e){if(!v(e))return!1;for(var n,o="",r=8,i=0;i<8;i++){for(var s=0;s<8;s++){var a=t[s]+r;e.hasOwnProperty(a)?o+=(n=void 0,"w"===(n=e[a].split(""))[0]?n[1].toUpperCase():n[1].toLowerCase()):o+="1"}7!==i&&(o+="/"),r-=1}return function(e){return e.replace(/11111111/g,"8").replace(/1111111/g,"7").replace(/111111/g,"6").replace(/11111/g,"5").replace(/1111/g,"4").replace(/111/g,"3").replace(/11/g,"2")}(o)}function E(e,n,o){for(var r=function(e){for(var n=[],o=0;o<8;o++)for(var r=0;r<8;r++){var i=t[o]+(r+1);e!==i&&n.push({square:i,distance:(s=e,a=i,c=s.split(""),h=t.indexOf(c[0])+1,l=parseInt(c[1],10),u=a.split(""),d=t.indexOf(u[0])+1,p=parseInt(u[1],10),f=Math.abs(h-d),g=Math.abs(l-p),g<=f?f:g)})}var s,a,c,h,l,u,d,p,f,g;n.sort((function(e,t){return e.distance-t.distance}));var m=[];for(o=0;o<n.length;o++)m.push(n[o].square);return m}(o),i=0;i<r.length;i++){var s=r[i];if(e.hasOwnProperty(s)&&e[s]===n)return s}return!1}function S(e){return"black"!==e.orientation&&(e.orientation="white"),!1!==e.showNotation&&(e.showNotation=!0),!0!==e.draggable&&(e.draggable=!1),"trash"!==e.dropOffBoard&&(e.dropOffBoard="snapback"),!0!==e.sparePieces&&(e.sparePieces=!1),e.sparePieces&&(e.draggable=!0),e.hasOwnProperty("pieceTheme")&&(l(e.pieceTheme)||u(e.pieceTheme))||(e.pieceTheme="img/chesspieces/wikipedia/{piece}.png"),p(e.appearSpeed)||(e.appearSpeed=200),p(e.moveSpeed)||(e.moveSpeed=200),p(e.snapbackSpeed)||(e.snapbackSpeed=60),p(e.snapSpeed)||(e.snapSpeed=30),p(e.trashSpeed)||(e.trashSpeed=100),function(e){return d(e)&&1<=e}(e.dragThrottleRate)||(e.dragThrottleRate=20),e}r.alpha="alpha-d2270",r.black="black-3c85d",r.board="board-b72b1",r.chessboard="chessboard-63f37",r.clearfix="clearfix-7da63",r.highlight1="highlight1-32417",r.highlight2="highlight2-9c5d2",r.notation="notation-322f9",r.numeric="numeric-fc462",r.piece="piece-417db",r.row="row-5277c",r.sparePieces="spare-pieces-7492f",r.sparePiecesBottom="spare-pieces-bottom-ae20f",r.sparePiecesTop="spare-pieces-top-4028b",r.square="square-55d63",r.white="white-1e1d7",window.Chessboard=function(n,c){if(!function(){if(b())return!0;return window.alert("Chessboard Error 1005: Unable to find a valid version of jQuery. Please include jQuery 1.8.3 or higher on the page\n\nExiting…"),!1}())return null;var d=function(t){if(""===t){return window.alert("Chessboard Error 1001: The first argument to Chessboard() cannot be an empty string.\n\nExiting…"),!1}l(t)&&"#"!==t.charAt(0)&&(t="#"+t);var n=e(t);if(1===n.length)return n;return window.alert("Chessboard Error 1003: The first argument to Chessboard() must be the ID of a DOM node, an ID query selector, or a single DOM node.\n\nExiting…"),!1}(n);if(!d)return null;c=S(c=function(t){return"start"===t?t={position:a(o)}:A(t)?t={position:w(t)}:v(t)&&(t={position:a(t)}),e.isPlainObject(t)||(t={}),t}(c));var p=null,m=null,x=null,y=null,P={},B=2,k="white",T={},I=null,R=null,O=null,L=!1,N={},j={},q={},F=16;function M(e,t,n){if(!0===c.hasOwnProperty("showErrors")&&!1!==c.showErrors){var o="Chessboard Error "+e+": "+t;return"console"===c.showErrors&&"object"==typeof console&&"function"==typeof console.log?(console.log(o),void(2<=arguments.length&&console.log(n))):"alert"===c.showErrors?(n&&(o+="\n\n"+JSON.stringify(n)),void window.alert(o)):void(u(c.showErrors)&&c.showErrors(e,t,n))}}function Q(e){return u(c.pieceTheme)?c.pieceTheme(e):l(c.pieceTheme)?h(c.pieceTheme,{piece:e}):(M(8272,"Unable to build image source for config.pieceTheme."),"")}function G(e,t,n){var o='<img src="'+Q(e)+'" ';return l(n)&&""!==n&&(o+='id="'+n+'" '),o+='alt="" class="{piece}" data-piece="'+e+'" style="width:'+F+"px;height:"+F+"px;",t&&(o+="display:none;"),h(o+='" />',r)}function Y(e){var t=["wK","wQ","wR","wB","wN","wP"];"black"===e&&(t=["bK","bQ","bR","bB","bN","bP"]);for(var n="",o=0;o<t.length;o++)n+=G(t[o],!1,N[t[o]]);return n}function K(t,n,o,i){var a=e("#"+j[t]),h=a.offset(),l=e("#"+j[n]),d=l.offset(),p=s();e("body").append(G(o,!0,p));var f=e("#"+p);f.css({display:"",position:"absolute",top:h.top,left:h.left}),a.find("."+r.piece).remove();var g={duration:c.moveSpeed,complete:function(){l.append(G(o)),f.remove(),u(i)&&i()}};f.animate(d,g)}function D(t,n,o){var i=e("#"+N[t]).offset(),a=e("#"+j[n]),h=a.offset(),l=s();e("body").append(G(t,!0,l));var d=e("#"+l);d.css({display:"",position:"absolute",left:i.left,top:i.top});var p={duration:c.moveSpeed,complete:function(){a.find("."+r.piece).remove(),a.append(G(t)),d.remove(),u(o)&&o()}};d.animate(h,p)}function W(){for(var t in p.find("."+r.piece).remove(),T)T.hasOwnProperty(t)&&e("#"+j[t]).append(G(T[t]))}function U(){p.html(function(e){"black"!==e&&(e="white");var n="",o=a(t),i=8;"black"===e&&(o.reverse(),i=1);for(var s="white",l=0;l<8;l++){n+='<div class="{row}">';for(var u=0;u<8;u++){var d=o[u]+i;n+='<div class="{square} '+r[s]+" square-"+d+'" style="width:'+F+"px;height:"+F+'px;" id="'+j[d]+'" data-square="'+d+'">',c.showNotation&&(("white"===e&&1===i||"black"===e&&8===i)&&(n+='<div class="{notation} {alpha}">'+o[u]+"</div>"),0===u&&(n+='<div class="{notation} {numeric}">'+i+"</div>")),n+="</div>",s="white"===s?"black":"white"}n+='<div class="{clearfix}"></div></div>',s="white"===s?"black":"white","white"===e?i-=1:i+=1}return h(n,r)}(k,c.showNotation)),W(),c.sparePieces&&("white"===k?(x.html(Y("black")),y.html(Y("white"))):(x.html(Y("white")),y.html(Y("black"))))}function V(e){var t=a(T),n=a(e);C(t)!==C(n)&&(u(c.onChange)&&c.onChange(t,n),T=e)}function H(e,t){for(var n in q)if(q.hasOwnProperty(n)){var o=q[n];if(e>=o.left&&e<o.left+F&&t>=o.top&&t<o.top+F)return n}return"offboard"}function z(){p.find("."+r.square).removeClass(r.highlight1+" "+r.highlight2)}function X(){z();var e=a(T);delete e[O],V(e),W(),m.fadeOut(c.trashSpeed),L=!1}function J(t,n,o,i){u(c.onDragStart)&&!1===c.onDragStart(t,n,a(T),k)||(L=!0,I=n,R="spare"===(O=t)?"offboard":t,function(){for(var t in q={},j)j.hasOwnProperty(t)&&(q[t]=e("#"+j[t]).offset())}(),m.attr("src",Q(n)).css({display:"",position:"absolute",left:o-F/2,top:i-F/2}),"spare"!==t&&e("#"+j[t]).addClass(r.highlight1).find("."+r.piece).css("display","none"))}function Z(t,n){m.css({left:t-F/2,top:n-F/2});var o=H(t,n);o!==R&&(g(R)&&e("#"+j[R]).removeClass(r.highlight2),g(o)&&e("#"+j[o]).addClass(r.highlight2),u(c.onDragMove)&&c.onDragMove(o,R,O,I,a(T),k),R=o)}function _(t){var n="drop";if("offboard"===t&&"snapback"===c.dropOffBoard&&(n="snapback"),"offboard"===t&&"trash"===c.dropOffBoard&&(n="trash"),u(c.onDrop)){var o=a(T);"spare"===O&&g(t)&&(o[t]=I),g(O)&&"offboard"===t&&delete o[O],g(O)&&g(t)&&(delete o[O],o[t]=I);var r=a(T),i=c.onDrop(O,t,I,o,r,k);"snapback"!==i&&"trash"!==i||(n=i)}"snapback"===n?function(){if("spare"!==O){z();var t=e("#"+j[O]).offset(),n={duration:c.snapbackSpeed,complete:function(){W(),m.css("display","none"),u(c.onSnapbackEnd)&&c.onSnapbackEnd(I,O,a(T),k)}};m.animate(t,n),L=!1}else X()}():"trash"===n?X():"drop"===n&&function(t){z();var n=a(T);delete n[O],n[t]=I,V(n);var o=e("#"+j[t]).offset(),r={duration:c.snapSpeed,complete:function(){W(),m.css("display","none"),u(c.onSnapEnd)&&c.onSnapEnd(O,t,I)}};m.animate(o,r),L=!1}(t)}function $(e){e.preventDefault()}function ee(t){if(c.draggable){var n=e(this).attr("data-square");g(n)&&T.hasOwnProperty(n)&&J(n,T[n],t.pageX,t.pageY)}}function te(t){if(c.draggable){var n=e(this).attr("data-square");g(n)&&T.hasOwnProperty(n)&&(t=t.originalEvent,J(n,T[n],t.changedTouches[0].pageX,t.changedTouches[0].pageY))}}function ne(t){c.sparePieces&&J("spare",e(this).attr("data-piece"),t.pageX,t.pageY)}function oe(t){c.sparePieces&&J("spare",e(this).attr("data-piece"),(t=t.originalEvent).changedTouches[0].pageX,t.changedTouches[0].pageY)}P.clear=function(e){P.position({},e)},P.destroy=function(){d.html(""),m.remove(),d.unbind()},P.fen=function(){return P.position("fen")},P.flip=function(){return P.orientation("flip")},P.move=function(){if(0!==arguments.length){for(var e=!0,t={},n=0;n<arguments.length;n++)if(!1!==arguments[n])if(f(arguments[n])){var o=arguments[n].split("-");t[o[0]]=o[1]}else M(2826,"Invalid move passed to the move method.",arguments[n]);else e=!1;var r=function(e,t){var n=a(e);for(var o in t)if(t.hasOwnProperty(o)&&n.hasOwnProperty(o)){var r=n[o];delete n[o],n[t[o]]=r}return n}(T,t);return P.position(r,e),r}},P.orientation=function(e){return 0===arguments.length?k:"white"===e||"black"===e?(k=e,U(),k):"flip"===e?(k="white"===k?"black":"white",U(),k):void M(5482,"Invalid value passed to the orientation method.",e)},P.position=function(t,n){return 0===arguments.length?a(T):l(t)&&"fen"===t.toLowerCase()?C(T):(l(t)&&"start"===t.toLowerCase()&&(t=a(o)),A(t)&&(t=w(t)),void(v(t)?(!1!==n&&(n=!0),n?(function(t,n,o){if(0!==t.length)for(var i=0,s=0;s<t.length;s++){var h=t[s];"clear"===h.type?e("#"+j[h.square]+" ."+r.piece).fadeOut(c.trashSpeed,l):"add"!==h.type||c.sparePieces?"add"===h.type&&c.sparePieces?D(h.piece,h.square,l):"move"===h.type&&K(h.source,h.destination,h.piece,l):e("#"+j[h.square]).append(G(h.piece,!0)).find("."+r.piece).fadeIn(c.appearSpeed,l)}function l(){(i+=1)===t.length&&(W(),u(c.onMoveEnd)&&c.onMoveEnd(a(n),a(o)))}}(function(e,t){e=a(e),t=a(t);var n=[],o={};for(var r in t)t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&e[r]===t[r]&&(delete e[r],delete t[r]);for(r in t)if(t.hasOwnProperty(r)){var i=E(e,t[r],r);i&&(n.push({type:"move",source:i,destination:r,piece:t[r]}),delete e[i],delete t[r],o[r]=!0)}for(r in t)t.hasOwnProperty(r)&&(n.push({type:"add",square:r,piece:t[r]}),delete t[r]);for(r in e)e.hasOwnProperty(r)&&(o.hasOwnProperty(r)||(n.push({type:"clear",square:r,piece:e[r]}),delete e[r]));return n}(T,t),T,t),V(t)):(V(t),W())):M(6482,"Invalid value passed to the position method.",t)))},P.resize=function(){F=function(){var e=parseInt(d.width(),10);if(!e||e<=0)return 0;for(var t=e-1;t%8!=0&&0<t;)t-=1;return t/8}(),p.css("width",8*F+"px"),m.css({height:F,width:F}),c.sparePieces&&d.find("."+r.sparePieces).css("paddingLeft",F+B+"px"),U()},P.start=function(e){P.position("start",e)};var re=i((function(e){L&&Z(e.pageX,e.pageY)}),c.dragThrottleRate),ie=i((function(e){L&&(e.preventDefault(),Z(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY))}),c.dragThrottleRate);function se(e){L&&_(H(e.pageX,e.pageY))}function ae(e){L&&_(H(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY))}function ce(t){if(!L&&u(c.onMouseoverSquare)){var n=e(t.currentTarget).attr("data-square");if(g(n)){var o=!1;T.hasOwnProperty(n)&&(o=T[n]),c.onMouseoverSquare(n,o,a(T),k)}}}function he(t){if(!L&&u(c.onMouseoutSquare)){var n=e(t.currentTarget).attr("data-square");if(g(n)){var o=!1;T.hasOwnProperty(n)&&(o=T[n]),c.onMouseoutSquare(n,o,a(T),k)}}}return k=c.orientation,c.hasOwnProperty("position")&&("start"===c.position?T=a(o):A(c.position)?T=w(c.position):v(c.position)?T=a(c.position):M(7263,"Invalid value passed to config.position.",c.position)),function(){!function(){for(var e=0;e<t.length;e++)for(var n=1;n<=8;n++){var o=t[e]+n;j[o]=o+"-"+s()}var r="KQRNBP".split("");for(e=0;e<r.length;e++){var i="w"+r[e],a="b"+r[e];N[i]=i+"-"+s(),N[a]=a+"-"+s()}}(),d.html(function(e){var t='<div class="{chessboard}">';return e&&(t+='<div class="{sparePieces} {sparePiecesTop}"></div>'),t+='<div class="{board}"></div>',e&&(t+='<div class="{sparePieces} {sparePiecesBottom}"></div>'),h(t+="</div>",r)}(c.sparePieces)),p=d.find("."+r.board),c.sparePieces&&(x=d.find("."+r.sparePiecesTop),y=d.find("."+r.sparePiecesBottom));var n=s();e("body").append(G("wP",!0,n)),m=e("#"+n),B=parseInt(p.css("borderLeftWidth"),10),P.resize()}(),function(){e("body").on("mousedown mousemove","."+r.piece,$),p.on("mousedown","."+r.square,ee),d.on("mousedown","."+r.sparePieces+" ."+r.piece,ne),p.on("mouseenter","."+r.square,ce).on("mouseleave","."+r.square,he);var t=e(window);t.on("mousemove",re).on("mouseup",se),"ontouchstart"in document.documentElement&&(p.on("touchstart","."+r.square,te),d.on("touchstart","."+r.sparePieces+" ."+r.piece,oe),t.on("touchmove",ie).on("touchend",ae))}(),P},window.ChessBoard=window.Chessboard,window.Chessboard.fenToObj=w,window.Chessboard.objToFen=C}()},619:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{var o=n(169),r=n(928);n(416),n(92),n(788);function i(e,t,n){var o;return(t="symbol"==typeof(o=s(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}async function a(e){return(await import("../../../../../script.js"))[e]}const c=await a("generateRaw");class h{constructor(e){"random"===e&&(e=Math.random()>.5?"white":"black"),this.gameId="sillytavern-chess-".concat(Math.random().toString(36).substring(2)),this.boardId="chessboard-".concat(this.gameId),this.color=e,this.game=new o.d$}getOpponentIcon(){return"fa-chess-queen"}getOpponentColor(){return"white"===this.color?"black":"white"}getOutcome(){return this.game.isCheckmate()?"".concat("w"===this.game.turn()?"Black":"White"," wins by checkmate"):this.game.isStalemate()?"the game is a stalemate":this.game.isDraw()?"the game is a draw":this.game.isThreefoldRepetition()?"the game is a threefold repetition":"the game was inconclusive"}async endGame(){const e=SillyTavern.getContext(),t="chess-".concat(Math.random().toString(36).substring(2));try{const n=e.chat[this.messageIndex];n.mes="[".concat(e.name1," (").concat(this.color,") played a game of chess against ").concat(e.name2," (").concat(this.getOpponentColor(),"). Outcome: ").concat(this.getOutcome(),"]"),this.messageText.textContent=n.mes,this.chatMessage.style.order="";const o=h.commentPrompt.replace(/{{color}}/gi,this.color).replace(/{{opponent}}/gi,this.getOpponentColor()).replace(/{{outcome}}/gi,this.getOutcome()).replace(/{{fen}}/gi,this.game.fen()),r='/inject id="'.concat(t,'" position="chat" depth="0" scan="true" role="system" ephemeral="true" ').concat(o," | /trigger await=true");await e.executeSlashCommands(r)}finally{await e.executeSlashCommands('/inject id="'.concat(t,'"'))}}async tryMoveOpponent(){if(!this.isOpponentTurn())return;if(this.game.isGameOver())return;const e=this.game.fen(),t=this.game.moves(),n=this.game.ascii(),o=h.opponentMovePrompt.replace("{{color}}",this.getOpponentColor().toUpperCase());for(let r=0;r<3;r++)try{const r=[e,n,"Available moves:\n"+t.join(", ")].join("\n\n"),s=i(await c(r,"",!1,!1,o));if(!s)throw new Error("Failed to parse move");return Array.isArray(s)&&this.game.move({from:s[0],to:s[1]}),"string"==typeof s&&this.game.move(s),this.board.position(this.game.fen()),void this.updateStatus()}catch(e){console.error("Failed to generate a move",e)}console.warn("Chess: Making a random move");const r=t[Math.floor(Math.random()*t.length)];function i(e){const n=(e=String(e).trim()).match(/([a-h][1-8]-[a-h][1-8])/g);if(n)return n[0].split("-");const o=e.match(/([NBRQK])?([a-h])?([1-8])?(x)?([a-h][1-8])(=[NBRQK])?(\+|#)?$|^O-O(-O)?/);if(o)return o[0];for(const n of t)if(e.toLowerCase().includes(n.toLowerCase()))return n;return null}this.game.move(r),this.board.position(this.game.fen()),this.updateStatus()}removeGraySquares(){document.querySelectorAll("#".concat(this.boardId," .square-55d63")).forEach((e=>{e.classList.remove("gray")}))}graySquare(e){document.querySelector("#".concat(this.boardId," .square-").concat(e)).classList.add("gray")}onDragStart(e,t){return!this.game.isGameOver()&&(this.removeGraySquares(),!("w"===this.game.turn()&&"black"===this.color||"b"===this.game.turn()&&"white"===this.color)&&void 0)}onDrop(e,t){this.removeGraySquares();try{this.game.move({from:e,to:t,promotion:"q"}),this.board.position(this.game.fen()),this.updateStatus(),this.tryMoveOpponent()}catch{return"snapback"}}onMouseoverSquare(e,t){if(this.game.isGameOver())return;if("w"===this.game.turn()&&"black"===this.color||"b"===this.game.turn()&&"white"===this.color)return;const n=this.game.moves({square:e,verbose:!0});if(0!==n.length){this.graySquare(e);for(let e=0;e<n.length;e++)this.graySquare(n[e].to)}}onMouseoutSquare(e,t){this.removeGraySquares()}onSnapEnd(){this.board.position(this.game.fen())}isOpponentTurn(){return"w"===this.game.turn()&&"black"===this.color||"b"===this.game.turn()&&"white"===this.color}isUserTurn(){return"w"===this.game.turn()&&"white"===this.color||"b"===this.game.turn()&&"black"===this.color}updateStatus(){this.game.isGameOver()?this.opponentStatusText.textContent="Game over. Press ✕ to close":this.isOpponentTurn()?this.opponentStatusText.textContent="Thinking...":this.isUserTurn()?this.opponentStatusText.textContent="Your turn!":this.opponentStatusText.textContent="",this.game.isCheckmate()?this.userStatusText.textContent="Checkmate! ".concat("w"===this.game.turn()?"Black":"White"," wins"):this.game.inCheck()?this.userStatusText.textContent="".concat("w"===this.game.turn()?"White":"Black"," is in check"):this.game.isStalemate()?this.userStatusText.textContent="Game is a stalemate":this.game.isDraw()?this.userStatusText.textContent="Game is a draw":this.game.isThreefoldRepetition()?this.userStatusText.textContent="Game is a threefold repetition":this.userStatusText.textContent=""}async launch(){var e;h.gamesLaunched++;const t=SillyTavern.getContext();if(t.sendSystemMessage("generic",this.gameId),Array.isArray(t.chat))for(const e of t.chat)if(e.mes===this.gameId){e.mes="[".concat(t.name1," plays a game of chess against ").concat(t.name2,"]"),this.messageIndex=t.chat.indexOf(e);break}const n=document.getElementById("chat"),o=n.querySelector(".last_mes"),i=o.querySelector(".mes_text");if(!i.textContent.includes(this.gameId))throw new Error("Could not find the chat message");const s=t.characters[t.characterId];o.classList.remove("last_mes"),i.innerHTML="";const a=document.createElement("div");a.classList.add("flex-container","flexFlowColumn","flexGap10","chess-game"),i.appendChild(a);const c=document.createElement("div");c.classList.add("flex-container","justifyContentFlexStart","flexGap10","alignItemsCenter");const l=document.createElement("div");l.classList.add("avatar");const u=document.createElement("img");u.src=s?t.getThumbnailUrl("avatar",null==s?void 0:s.avatar):"/img/logo.png",l.appendChild(u),c.appendChild(l);const d=document.createElement("h3");d.classList.add("margin0"),d.textContent=(null==s?void 0:s.name)||"SillyTavern",c.appendChild(d);const p=document.createElement("span");p.classList.add("fa-solid",this.getOpponentIcon(),"fa-xl","chess-".concat(this.getOpponentColor())),c.appendChild(p);const f=document.createElement("q");f.textContent="",c.appendChild(f);const g=document.createElement("div");g.classList.add("expander"),c.appendChild(g);const m=document.createElement("button");m.title="Undo",m.classList.add("menu_button","menu_button_icon","fa-solid","fa-undo"),m.addEventListener("click",(()=>{this.isOpponentTurn()||(this.game.undo(),this.board.position(this.game.fen()),this.game.undo(),this.board.position(this.game.fen()),this.updateStatus(),this.tryMoveOpponent())})),c.appendChild(m);const A=document.createElement("button");A.title="End Game",A.classList.add("menu_button","menu_button_icon","fa-solid","fa-times"),A.addEventListener("click",(()=>{this.endGame()})),c.appendChild(A),a.appendChild(c);const v=document.createElement("div");v.id=this.boardId,v.classList.add("wide100p","chessboard"),a.appendChild(v),this.board=new Chessboard(this.boardId,{draggable:!0,dropOffBoard:"snapback",position:this.game.fen(),orientation:this.color,pieceTheme:e=>r.c[e],onDragStart:this.onDragStart.bind(this),onDrop:this.onDrop.bind(this),onMouseoutSquare:this.onMouseoutSquare.bind(this),onMouseoverSquare:this.onMouseoverSquare.bind(this),onSnapEnd:this.onSnapEnd.bind(this)});const b=null===(e=document.querySelector("#user_avatar_block .selected img"))||void 0===e?void 0:e.src,w=document.createElement("div");w.classList.add("flex-container","justifyContentFlexEnd","flexGap10","alignItemsCenter");const C=document.createElement("div");C.classList.add("avatar");const E=document.createElement("img");E.src=b||"/img/logo.png",C.appendChild(E);const S=document.createElement("h3");S.classList.add("margin0"),S.textContent=t.name1;const x=document.createElement("span");x.classList.add("fa-solid","fa-chess-king","fa-xl","chess-".concat(this.color));const y=document.createElement("q");y.textContent="",w.appendChild(y),w.appendChild(x),w.appendChild(S),w.appendChild(C),a.appendChild(w);const P=(2e4+h.gamesLaunched).toFixed(0);o.style.order=P,n.scrollTop=n.scrollHeight,this.opponentStatusText=f,this.userStatusText=y,this.messageText=i,this.chatMessage=o,this.updateStatus(),this.tryMoveOpponent(),window.addEventListener("resize",(()=>{this.board.resize()}))}}async function l(){const e=SillyTavern.getContext(),t=document.createElement("div");t.classList.add("flex-container","flexFlowColumn");const n=document.createElement("div");n.textContent="Play as:",t.appendChild(n);const o=document.createElement("select");o.id="chess-color-select",o.classList.add("text_pole");const r=document.createElement("option");r.value="white",r.textContent="White",o.appendChild(r);const i=document.createElement("option");i.value="black",i.textContent="Black",o.appendChild(i);const s=document.createElement("option");s.value="random",s.textContent="Random",o.appendChild(s),t.appendChild(o),o.value="random";if(!await e.callPopup(t,"confirm","",{okButton:"Play",cancelButton:"Cancel"}))return;const a=o.value;return new h(a).launch()}function u(){var e;const t=document.createElement("div");t.id="chess-launch",t.classList.add("list-group-item","flex-container","flexGap5","interactable"),t.tabIndex=0,t.title="Launch Chess Game";const n=document.createElement("i");n.classList.add("fa-solid","fa-chess"),t.appendChild(n);const o=document.createElement("span");o.textContent="Play Chess",t.appendChild(o);const r=null!==(e=document.getElementById("chess_wand_container"))&&void 0!==e?e:document.getElementById("extensionsMenu");if(r.classList.add("interactable"),r.tabIndex=0,!r)throw new Error("Could not find the extensions menu");r.appendChild(t),t.addEventListener("click",l)}i(h,"gamesLaunched",0),i(h,"opponentMovePrompt","You are a world-renowned chess grandmaster. You are given the representation of a chessboard state using the Forsyth-Edwards Notation (FEN) and ASCII. Select the best possible move from the list in algebraic notation and reply with JUST the move, e.g. 'Nc6'. You are playing as {{color}}."),i(h,"commentPrompt","{{char}} played a game of chess against {{user}}. {{user}} played as {{color}} and {{char}} played as {{opponent}}, and {{outcome}}! The final state of the board state in FEN notation: {{fen}}. Write a {{random:witty,playful,funny,quirky,zesty}} comment about the game from {{char}}'s perspective."),function(){u();const{eventSource:e,event_types:t}=SillyTavern.getContext();e.makeLast(t.CHAT_CHANGED,(()=>{const{chatMetadata:e}=SillyTavern.getContext();for(const t in e)/chess-[a-z0-9]+$/.test(t)&&(console.log("Removing stuck Chess inject",t),delete e[t])}))}(),t()}catch(d){t(d)}}),1)},928:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});const o={bB:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAFRElEQVR42u1cXWgcVRS+abNSddXqKlYbsUjVrEJVuhUV7a+tmNj6ooLSSkJjIK4gaB7FJC9B64P4kDzUtyxqKJG2UDAtlQURBCmWPlRttVSr4k9M2zSJbkgy13N2v4k328l0ZndmN3P3fvDB7Mydc8583P85s0IYGBgYGBgYGBgYLB5cR9xI7CS+SdyAcwYe8ALxJFEW8SSuGbjgNeKsIpoF2r/5WtrI5IwHiKOKcMU10D7HZdYYuS7HnqLatxBnUdagCIc8iGfzkJFrPq4iHvYh4DAxZmSbj4wPATNGrsuxi5hbYABRB5J/iTuNXO79oNsobPo/F9xE/MulBv5JvNHI5IwdxB+JMy4C8rXTxGeMXP/jduI+h6YqXZqxxD231bJwMQwcox7FcyrzN2zU15p4ceJen8K5CbkXNmum5g2XKZ7TvZ/VwuR6ibLiKEe4hYQ8DB9aYinx4xDEKxbxI11FfNuPeIlEQg4MDOTJxz5FfEs38R4jnvdTo1paWuTU1FSefOxTQB7ZH9VFvKuJB/w23XQ6PScgH5fQlPfDd+TxRCl9Wnt7+5yAfFxiv/i4DgJ+6aX2cT/X2toqOzo6ZFtbmxwcHJTT09N58jGf42tcxkOfaPv6Iuri3eG1tmQymbkal8vl8sJZlpUnH/M5+zqX9VELG6IsYOciELAzygIe9fqgATdhlUeiLODvpU6MAxpEJGKIJK7HfKykVUcZ05jiwYRjiGRayK1+J88BTKSdyDHcEtUtq/Ol1sASl3JONZBjuDaqzfjXEDYN/PKXKA8i+xeBgJ9GWcCdIW5feV2NvBRlAfldxWQVRLR9TWAfMtJIV1HAV3XYTOA52OcVFNH2cVRolBbMCZFnlQe04vF4fnoSBNmWmJ/NelZomIS5kXicH7ChocHKZrP5jYJywTbYFtuEeN+IQlK6lriZRUylUnJsbEwGBbbFNiFeQmiM57mW1NXVyaamJtnV1SW7u7vLIttgW2wTNfA5XcW7D9OKMAcSCz6SuonH88EDFRiJ1RdKWuXLPCzc8/6CJucRrtNJwF1VWMq9rIt4MersP8Coa8nwYbGvnp6e94UOyUbNzc3xoaGhr2SFwT7Ztw41cHljY+NIb2+v7O/vl319faGSfbCvZDLJfe5yHQS8gfhzfX29jMViFSH7Yp/wHXlcI8LJCbzSVGYYviMPztXrEMFkpPrJWOWtrDpdRmLOknqdOB6SkKqtS8Q3hIY500uw0H9PFD7XkiK4JHNmDrYTQuM0X1VM3ljgFz5/YP0640O8GdzD9w5hAyHyovHu7wrincTVxHuxqL8fm5sPEteKQuboenAT8UVRyJ0e9SHgKO7hezdj/289bK+FrzXwnUQsqxHbisWyU72KuBvN5iAxS/yaeIL4LfEU8QfiGeJPxHPE34gjxDE0OVlCU3Yqk4PNEfg4B59nEMMpxHQCMWaxucGxP1tp4biP2aeIMCuCGwAqea/99wH/iMI/gjxVkZWZErQlqvO+N8ypzydhTr5bKjSXq5aI6gupR4IWjxPFL2gq3kKfSWwOcjf5nRoQr1jEd4Pc1eYPnCev0BnnUGYcqwGV4+AEOKlwQrnnoih8wsofVX8oCq9CN+H4NK5dVGw62ZpQ/DnFMelh8OMyTwfdjFuJxzBqzSKY70ThPwz4j3BeIW7HfCxFfAhMYX7Gc7UtxG3EJoVb0UVwubuIy1xiWIYyKdyztcjWNvjYAJ9qHOsQ2w7Eugexf49nsUfkY+jvQ8FK4pMYjblm3C2inbzDsd+DZ2nGs60UBgYGBgYGBgYGBgbh4j9wZbBvRaSd0wAAAABJRU5ErkJggg==",bK:"data:image/png;base64,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",bN:"data:image/png;base64,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",bP:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAC0ElEQVR42u2cPWgUQRSAP82PRjQSBUHTWamgIIiiEkWtAgo2goggKWxEQ4SoCGJiIYrVlYKiKAEbG8EUFlbaBBQ7f2JjoyCRIMZfojcWc0uWMTHJ3k7yZuZ98Jrj2Fu+ezv3Zt7jQFEURVEURVEURVEURVGUgiwGzgJDwAjwCXgDXAPaVc/ULAC6gHHA1KJaC5OLPqBJdf0rr98RZ5zIv/YAWK7aJuiaRt5kIm9qJk6seeMzlJeP78Be1QfnCsjL3lvRLLS/tqZgvACWpS5wZJbZl49vQJsKVIF18bKOR/g10Jq6wMsFxOVLmebUBbYWzL5fQKcWMXCpjkf4durbt0qBGtDdIw8CjSkK7K0j89y18H5qBfX2gtu3/0nsS0ng25Lk5eMdsDEFeYc8yMuudR5YGLvApyWKcwU+B5bGLG8F8Lnk7HMj6mP/fcBXTwKzax6MWeBR4IfH7DPA6ZgFHgd+ehZ4MWaBh7FH8T4FnoxZ4Fbgiydx2Rq4K2aBDcBHj9n3mwQOWO95LKQfAi2xC9zgQWAWx1LZC9/1IPEZsCoVgW3A+xLljdX22EnRie2qlSHwSmryVgMDJQocBDpSkbffOVAo60B1DOiOXV4PU8/9lSHRYAcxG2KU1wv88VhE57+UO8CSmOSdqu0SfNV/k2XjDWBRLGuemSN5bvRg26fB0o7/E+jp1sRNocprwvZr5yPz8p85TKDzMwfm4PB0NpOsQdECPJ7H7HNjFFgfksAOQfKy+7geksAnwgQa4BWwNgR56wRJc+NICAIrArMvu5eBEIrrD4IzcBThPZPN2K5bVaC87J62SRbYjZ1dNoIFXpUs8JbgxzeLIanymoFHAQisShW4BtsZky7P1FoKIuu/4QAy0AA7JQrcIryEEV9Q78D+QUQIAk9IFLgbf5NXZccZiQL3YFuLIQi8IFFgI3aIfGUAEf0El6IoiqIoiuKfv3U5xct5ETXIAAAAAElFTkSuQmCC",bQ:"data:image/png;base64,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",bR:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAACs0lEQVR42u2bMWtaURiGL60V4YoUmiXQP+Av6OAgKrQdLk6aTB2cpLFjp0JQsNLuIhmyZe2ge8ChuuYHNKtTYoYsYtPiOT3f7Se9SiNcTa7fkfeBlxuI537vfTQSk3scBwAAAAAAAAAAAADYyQuTisn7e3Jksr/B+nkq/Nj72OdZ667fGmcmdyvy2+Ryg/XBnK04zyXPWnf9Vkia9E30iig+rrs+mD6v+R/BWeusFytQBwQmA3H5x24QQuCA17hL53Ie4AkQL/CcHxsMCbkNIfCW1yyf53zXBaoNv/9Q57D6FSghEAiBEPiPWCzm2iaQO4vhued536fTqZYOdaSu1FmSwKelUum02+3qfr9PUXyUFL9Tr9fT5XL5lDpL+zSyl0qlvrquq5PJJEXxUUL8LtTNdPwi7rNwPB6ff/nE5CDk72SPnWCHA+4Y7CyS1yZXVLpYLKpWq6UbjUakoZk0m8VdcSereGXyYzQa+W/es9ks0hA0mzpwFyv5nE6ndaFQ0LlcLtLQTJpNHWz+I+uxgPfAYwiEQAiEQAiEQAiEQAiEQAiEQAiEQAiEQAiEQAiEQAiEQAiEwEfmUz6f181mU9fr9UhDM2k2dbBZ4GAymfj/YlRKRRqCZjt/72S1kncmvzKZjKrVarparUYamkmzqQN3sYo9kwtHzu1sF9zJCl6afGu323o8HosIdaFO3E081/SsdzodZcorAQIVdeFX4rUNAqXclRVmo484gZIDgRAIgasFJhIJLej2Xj/USaLAt87i3txKNpvVw+FQ2g3mfifq5izuST7ia9gKb0xunMV9uD89zxO7xYG6Ucelzjd8LZHzgQtoy3PH1xI5tR0SWINACIRACAzJ4Q7Im+dwGwJpv+1HkxOTjqU54WvY2t5h2ndGm86eWZo4XwMAAAAAAACh+APSjxzHQG+afwAAAABJRU5ErkJggg==",wB:"data:image/png;base64,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",wK:"data:image/png;base64,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",wN:"data:image/png;base64,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",wP:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAF6klEQVR42u2baUhtVRTH79Wrxk3EKSX9oKSkqB/CISVQnoiBKVSgIQ5looGYI2gORAmSTxDLQChzKniEH/RT1sOHQxKhooiBiaJlTpFTDtcxvau9jmfLfvc53Pc86Lnn7D/8v4jv6f651t5rr72uRsPFxcXFxcXFxcXFxcXFxcXFpW7ZEMcQv0+cRZxA7MaxXK/niO8TbxAbiA9F7xH/S/yA2JVjulivEi8QA7ERrdPpwMbGBrRarVH8Goh+h+N6XMHEaxReUFAQZGZmQl1dHTQ0NEBeXh6Eh4dTkBTiBxzbmfTEf1J4paWlMD8/D6ba3NyE+vp6YCIR0zyc49NovqTwKioq4PDw8Bya0Wh8AmRbWxswUfhA3DdVK2sxkowBAQEwNzcHV4kCjYqKogBPiF9QM8BI4l0EmJWVBeaqv7+fTeXX1QwQ67xDPG1xf7ssbU2jcG1tjU3jj1QPEEsVCvA6cYCPC9PPgOVJYWGhWfBQExMTbAonqhmgA/E6gggJCYHV1VWzAKamprIR+KLay5guCgOL5tPT0wv3Qfq1np4eFt4AsU7tKbxJgVhZWcHS0tKlEbi3tweurq4sQPS7aoV3T6wBBRD+/v4wODgoRNpVEbi4uAiRkZGm92PVXeu8iOfoDSQjIwN2d3fNPkRQtbW1oNfrKcRT4rfUBLCPwquqqjoHc10NaPo9LS0tbINhmvglNcB7j6ZtcnKy0WAwmA3vIoj5+fnsfviJeD1UtP7Cxbq4uMDw8DBIIWdnZwrwH2JnJcOL0px1mo2JiYlPFXVXRWJ7eztbWMcpGWAl8X+2trbQ2tr61Kl7mbAAt7e3pwC/VjLA73GRDg4OMDU1JUn64h8A99GYmBhgDhPF9v66cZFOTk6wtbUFUung4ADS0tIowCOlAsTOcQ8uEjf9o6MjyQBiFzs7O5s9jRUpLfEPuEBHR0dYX1+XDOD+/j6WRBSeQcl7YDMukmz4MDQ0JNkeuLOzI3RzRIC/Khngh7hH6XQ6Y01NjWQRuLCwwJYxnykZ4Msa8Q0EH4YwcqSoA4uLi9n9L1jpN5FeXChGYWdn5zPXgvTf4Ese/l8ivFHi55UO0I82Ery9vc/LmWe9CwcHB7PRl66Wbkw1XTQCYFtZ5rzK0ZM3PT2dhfcTsb2aWloTdPGBgYEwNjZmduThoZGSksLCw301TC3gbInrif9mAICPj49Z1zssmuPj403b+sfE34qNWkXLl/h3sYMs7IO+vr7Q1NQkNASOj4/NikIswru7uyEiIsIUJLazIpQKL0TDzP+5u7tDc3PzpYeDuerr6wMvLy+2DkS/qTR4r2iYEbbY2Ngbd2PYxye8V+NsjbW1NQsxRSnwPFl4RUVFsL29/QSEmxbTJycnwkAmE4k4EhythBbWbyw8LD+kaqRelPqNjY3snrhM7GLJAL8QDwxjXFycWU+XUoCsrKxkI/FHS4V3T0wj8PT0hNnZWckj76q9MSEhgYVYYGnwbMSbgbCIrq6uW4HH/ozx8XHw8PCgqbwmllAWoxi6DyUlJRlvUqbcRGVlZThvQ6cXvrIkgPTgEGZZblv0D4WT/W5ubjQK/yAOtAR4kTR1c3NzhdvFbUceC7G6upo9lXPFpwVZ65HYtjf29vbCXQvvznZ2dvQw+UVz9rkU2QqnRYV5PxxBk/Lp8iZRWFBQwEaht5wBCkPjWq0WSkpK7uTguEiTk5NsSSProfRv8BfV6/UwMDAgC4D487GAxw/yiACH5AoPB8Z/xl8Sx3Bx1lkuwmZDTk4Om8ayHIHDtw6cS4Ho6GiQm3AYk0nj1+RavghXt/LyctkBfPjwIeBUmAiwSI4A36Yp0tHRITuAo6Oj7NXuOzkCzKYF9MjIiOwATk9Pg5+fHzD1oKxkRfwxBXjdJ47uQisrKxAaGkoBLsoNIH5a6D5N4eXlZdjY2BA+FCgH4yPUzMwMhIWF0YNkVY7tq89NXsjk7DW5AcS33iYLArgnbjuy2gPf0JyNbHxqAS61hK4MFxcXFxcXFxeXvPU/eKnv+9ZQm7UAAAAASUVORK5CYII=",wQ:"data:image/png;base64,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",wR:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAEEElEQVR42u1bv0sjQRhdIwloklNMLIRg4T9hKWJxZ21x1RVidea0ukoQFbEWD6OndoLFIRbW0ShaimBt4R+gIqIW+QH5bt7ejE6WJP7CnZnje/DIkt1v3pvn7sZN5vM8BoPBYDAYDAaDwWAwGAyGm0gJjgp+b8BxwZ531CuOymMboUdqvbXeGDYFS01YETx/R73OzSbjnEutt9YbQUKwIEhgNBqlWCzmv4ItLS14vyr3v7pebav98thEg7F8LWi+sd5sgO3t7bS0tEQrKyuUy+X87f7+ft28Ol4xLi+743r1ILbxHvbJMY5lTTwwlgrQ10RNg3p7A0ylUhTE5OSkHmBeHqsTgdw2qlfAPjnGrawJjpNXOtBsUm9vgF1dXVSpVB5Nl0olmpiYUMarWpD1WO3o6GgYIPa9ZAy8QhPaCvAEb84FCOTzecpkMv4+nAWNiIBmZ2f9mmq1+livtrEPxzQbAxrQgqYOZwPUg3gp6tW8dxynA3zN5Jsd+9pxXAow3uxDxBYEPkTiNgXYIXj0zM3dJh5Jz1bht/4p2NfXR0NDQzQ4OGiU8AAvgf8Cftn6LPxHGe3t7aWTkxMqFot0d3dH9/f3oRKa0IYHeNHCg8dPtn6hEBHcUiF2dnbSxcWFsXsetOFBC29LerQaEe1M9CdwdnZGNzc3dHV1FQqhBU0ZHmlnnvXhKSQFt/X7Tjwep0QiEQqhFbjnbUtPTiGhnk3T6TQtLi5SoVCg/f39DyU0oAVN7dk74TmKGUwCZ8XBwUFo9z5oQVMGOOPyt9TTKkCcGWEBWlqA0xwgB8gBcoAcIAfIAXKAHCAHyAFygBwgB8gBcoAcIAfIAXKATgVo8Btp9wPEwsa9vb3QAoSWtpjS6QCn5CSora2NkslkKISW9/Rz5pTLAT4u2x0bG6O5uTl/jd9HEhrQ0kI8djW8b4JlwerAwAA9PDyEdglDC5rev9+Fy9KLU0gLnqpL9/DwMPRlHdDUzsJT6ckJZLynVQnU3d1NCwsLH37pBglNaGv3wm3pzXpcek/LKp5bEB4GdR+XLgRIlgRXd/W+KwHS8PAw7ezs0O7urlHCA7x4tY0+9geYzWapXC4bXxcND/DiZIB6o4spwIOTAdZrtTKFQKuZVfji1fbmjnp1mv1Msk6zo96TPC7nYASfBa+92j7cojKqt5uapmy3VSwGPF/LuYSOH9IARSKRmv7e1tZWK6n3D8OzDLQk5xI6shCHkZGREVpfX/cvmeXlZZqfn/cf6m0iPMEbPMIrPMsQS3IuZgLEX3RtbY1cAzzLLnazAeJy2NjYcC5AeIZ34wF67vTHNaKxAL/+B+EpfjURIHovfgquCuYc5aqcg7E+ErROxQSjjjLmOdT+xWAwGAwGg8GwB38BOndQ3xYeBEYAAAAASUVORK5CYII="}},169:(e,t,n)=>{"use strict";n.d(t,{d$:()=>N});const o="w",r="b",i="p",s="b",a="r",c="q",h="k",l="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",u=-1,d={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},p={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},f={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},g={b:[16,32,17,15],w:[-16,-32,-17,-15]},m={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},A=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],v=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],b={p:1,n:2,b:4,r:8,q:16,k:32},w=["n",s,a,c],C={[h]:p.KSIDE_CASTLE,[c]:p.QSIDE_CASTLE},E={w:[{square:f.a1,flag:p.QSIDE_CASTLE},{square:f.h1,flag:p.KSIDE_CASTLE}],b:[{square:f.a8,flag:p.QSIDE_CASTLE},{square:f.h8,flag:p.KSIDE_CASTLE}]},S={b:1,w:6},x=["1-0","0-1","1/2-1/2","*"];function y(e){return e>>4}function P(e){return 15&e}function B(e){return-1!=="0123456789".indexOf(e)}function k(e){const t=P(e),n=y(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function T(e){return e===o?r:o}function I(e,t,n,o,r,s=void 0,a=p.NORMAL){const c=y(o);if(r!==i||7!==c&&0!==c)e.push({color:t,from:n,to:o,piece:r,captured:s,flags:a});else for(let i=0;i<w.length;i++){const c=w[i];e.push({color:t,from:n,to:o,piece:r,captured:s,promotion:c,flags:a|p.PROMOTION})}}function R(e){let t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return i}return t=t.toLowerCase(),"o"===t?h:t}function O(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function L(e){return e.split(" ").slice(0,4).join(" ")}class N{_board=new Array(128);_turn=o;_header={};_kings={w:u,b:u};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_positionCount={};constructor(e=l){this.load(e)}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:u,b:u},this._turn=o,this._castling={w:0,b:0},this._epSquare=u,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}removeHeader(e){e in this._header&&delete this._header[e]}load(e,{skipValidation:t=!1,preserveHeaders:n=!1}={}){let i=e.split(/\s+/);if(i.length>=2&&i.length<6){const t=["-","-","0","1"];e=i.concat(t.slice(-(6-i.length))).join(" ")}if(i=e.split(/\s+/),!t){const{ok:t,error:n}=function(e){const t=e.split(/\s+/);if(6!==t.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const o=parseInt(t[4],10);if(isNaN(o)||o<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const r=t[0].split("/");if(8!==r.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let e=0;e<r.length;e++){let t=0,n=!1;for(let o=0;o<r[e].length;o++)if(B(r[e][o])){if(n)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};t+=parseInt(r[e][o],10),n=!0}else{if(!/^[prnbqkPRNBQK]$/.test(r[e][o]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};t+=1,n=!1}if(8!==t)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:e,regex:n}of i){if(!n.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${e} king`};if((t[0].match(n)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${e} kings`}}return Array.from(r[0]+r[7]).some((e=>"P"===e.toUpperCase()))?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}(e);if(!t)throw new Error(n)}const s=i[0];let a=0;this.clear({preserveHeaders:n});for(let e=0;e<s.length;e++){const t=s.charAt(e);if("/"===t)a+=8;else if(B(t))a+=parseInt(t,10);else{const e=t<"a"?o:r;this._put({type:t.toLowerCase(),color:e},k(a)),a++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=p.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=p.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=p.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=p.QSIDE_CASTLE),this._epSquare="-"===i[3]?u:f[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._updateSetup(e),this._incPositionCount(e)}fen(){let e=0,t="";for(let n=f.a8;n<=f.h1;n++){if(this._board[n]){e>0&&(t+=e,e=0);const{color:r,type:i}=this._board[n];t+=r===o?i.toUpperCase():i.toLowerCase()}else e++;n+1&136&&(e>0&&(t+=e),n!==f.h1&&(t+="/"),e=0,n+=8)}let n="";this._castling[o]&p.KSIDE_CASTLE&&(n+="K"),this._castling[o]&p.QSIDE_CASTLE&&(n+="Q"),this._castling[r]&p.KSIDE_CASTLE&&(n+="k"),this._castling[r]&p.QSIDE_CASTLE&&(n+="q"),n=n||"-";let s="-";if(this._epSquare!==u){const e=this._epSquare+(this._turn===o?16:-16),t=[e+1,e-1];for(const e of t){if(136&e)continue;const t=this._turn;if(this._board[e]?.color===t&&this._board[e]?.type===i){this._makeMove({color:t,from:e,to:this._epSquare,piece:i,captured:i,flags:p.EP_CAPTURE});const n=!this._isKingAttacked(t);if(this._undoMove(),n){s=k(this._epSquare);break}}}}return[t,this._turn,n,s,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==l?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(l)}get(e){return this._board[f[e]]||!1}put({type:e,color:t},n){return!!this._put({type:e,color:t},n)&&(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}_put({type:e,color:t},n){if(-1==="pnbrqkPNBRQK".indexOf(e.toLowerCase()))return!1;if(!(n in f))return!1;const o=f[n];if(e==h&&this._kings[t]!=u&&this._kings[t]!=o)return!1;const r=this._board[o];return r&&r.type===h&&(this._kings[r.color]=u),this._board[o]={type:e,color:t},e===h&&(this._kings[t]=o),!0}remove(e){const t=this.get(e);return delete this._board[f[e]],t&&t.type===h&&(this._kings[t.color]=u),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}_updateCastlingRights(){const e=this._board[f.e1]?.type===h&&this._board[f.e1]?.color===o,t=this._board[f.e8]?.type===h&&this._board[f.e8]?.color===r;e&&this._board[f.a1]?.type===a&&this._board[f.a1]?.color===o||(this._castling.w&=~p.QSIDE_CASTLE),e&&this._board[f.h1]?.type===a&&this._board[f.h1]?.color===o||(this._castling.w&=~p.KSIDE_CASTLE),t&&this._board[f.a8]?.type===a&&this._board[f.a8]?.color===r||(this._castling.b&=~p.QSIDE_CASTLE),t&&this._board[f.h8]?.type===a&&this._board[f.h8]?.color===r||(this._castling.b&=~p.KSIDE_CASTLE)}_updateEnPassantSquare(){if(this._epSquare===u)return;const e=this._epSquare+(this._turn===o?-16:16),t=this._epSquare+(this._turn===o?16:-16),n=[t+1,t-1];if(null!==this._board[e]||null!==this._board[this._epSquare]||this._board[t]?.color!==T(this._turn)||this._board[t]?.type!==i)return void(this._epSquare=u);n.some((e=>!(136&e)&&this._board[e]?.color===this._turn&&this._board[e]?.type===i))||(this._epSquare=u)}_attacked(e,t){for(let n=f.a8;n<=f.h1;n++){if(136&n){n+=7;continue}if(void 0===this._board[n]||this._board[n].color!==e)continue;const s=this._board[n],a=n-t;if(0===a)continue;const c=a+119;if(A[c]&b[s.type]){if(s.type===i){if(a>0){if(s.color===o)return!0}else if(s.color===r)return!0;continue}if("n"===s.type||"k"===s.type)return!0;const e=v[c];let h=n+e,l=!1;for(;h!==t;){if(null!=this._board[h]){l=!0;break}h+=e}if(!l)return!0}}return!1}_isKingAttacked(e){const t=this._kings[e];return-1!==t&&this._attacked(T(e),t)}isAttacked(e,t){return this._attacked(t,f[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let n=0,o=0;for(let r=f.a8;r<=f.h1;r++){if(o=(o+1)%2,136&r){r+=7;continue}const i=this._board[r];i&&(e[i.type]=i.type in e?e[i.type]+1:1,i.type===s&&t.push(o),n++)}if(2===n)return!0;if(3===n&&(1===e[s]||1===e.n))return!0;if(n===e[s]+2){let e=0;const n=t.length;for(let o=0;o<n;o++)e+=t[o];if(0===e||e===n)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:t,piece:n}={}){const o=this._moves({square:t,piece:n});return e?o.map((e=>this._makePretty(e))):o.map((e=>this._moveToSan(e,o)))}_moves({legal:e=!0,piece:t,square:n}={}){const o=n?n.toLowerCase():void 0,r=t?.toLowerCase(),s=[],a=this._turn,c=T(a);let l=f.a8,u=f.h1,d=!1;if(o){if(!(o in f))return[];l=u=f[o],d=!0}for(let e=l;e<=u;e++){if(136&e){e+=7;continue}if(!this._board[e]||this._board[e].color===c)continue;const{type:t}=this._board[e];let n;if(t===i){if(r&&r!==t)continue;n=e+g[a][0],this._board[n]||(I(s,a,e,n,i),n=e+g[a][1],S[a]!==y(e)||this._board[n]||I(s,a,e,n,i,void 0,p.BIG_PAWN));for(let t=2;t<4;t++)n=e+g[a][t],136&n||(this._board[n]?.color===c?I(s,a,e,n,i,this._board[n].type,p.CAPTURE):n===this._epSquare&&I(s,a,e,n,i,i,p.EP_CAPTURE))}else{if(r&&r!==t)continue;for(let o=0,r=m[t].length;o<r;o++){const r=m[t][o];for(n=e;n+=r,!(136&n);){if(this._board[n]){if(this._board[n].color===a)break;I(s,a,e,n,t,this._board[n].type,p.CAPTURE);break}if(I(s,a,e,n,t),"n"===t||t===h)break}}}}if(!(void 0!==r&&r!==h||d&&u!==this._kings[a])){if(this._castling[a]&p.KSIDE_CASTLE){const e=this._kings[a],t=e+2;this._board[e+1]||this._board[t]||this._attacked(c,this._kings[a])||this._attacked(c,e+1)||this._attacked(c,t)||I(s,a,this._kings[a],t,h,void 0,p.KSIDE_CASTLE)}if(this._castling[a]&p.QSIDE_CASTLE){const e=this._kings[a],t=e-2;this._board[e-1]||this._board[e-2]||this._board[e-3]||this._attacked(c,this._kings[a])||this._attacked(c,e-1)||this._attacked(c,t)||I(s,a,this._kings[a],t,h,void 0,p.QSIDE_CASTLE)}}if(!e||-1===this._kings[a])return s;const A=[];for(let e=0,t=s.length;e<t;e++)this._makeMove(s[e]),this._isKingAttacked(a)||A.push(s[e]),this._undoMove();return A}move(e,{strict:t=!1}={}){let n=null;if("string"==typeof e)n=this._moveFromSan(e,t);else if("object"==typeof e){const t=this._moves();for(let o=0,r=t.length;o<r;o++)if(e.from===k(t[o].from)&&e.to===k(t[o].to)&&(!("promotion"in t[o])||e.promotion===t[o].promotion)){n=t[o];break}}if(!n)throw"string"==typeof e?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const o=this._makePretty(n);return this._makeMove(n),this._incPositionCount(o.after),o}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const t=this._turn,n=T(t);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&p.EP_CAPTURE&&(this._turn===r?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:t}),this._board[e.to].type===h){if(this._kings[t]=e.to,e.flags&p.KSIDE_CASTLE){const t=e.to-1,n=e.to+1;this._board[t]=this._board[n],delete this._board[n]}else if(e.flags&p.QSIDE_CASTLE){const t=e.to+1,n=e.to-2;this._board[t]=this._board[n],delete this._board[n]}this._castling[t]=0}if(this._castling[t])for(let n=0,o=E[t].length;n<o;n++)if(e.from===E[t][n].square&&this._castling[t]&E[t][n].flag){this._castling[t]^=E[t][n].flag;break}if(this._castling[n])for(let t=0,o=E[n].length;t<o;t++)if(e.to===E[n][t].square&&this._castling[n]&E[n][t].flag){this._castling[n]^=E[n][t].flag;break}e.flags&p.BIG_PAWN?this._epSquare=t===r?e.to-16:e.to+16:this._epSquare=u,e.piece===i||e.flags&(p.CAPTURE|p.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===r&&this._moveNumber++,this._turn=n}undo(){const e=this._undoMove();if(e){const t=this._makePretty(e);return this._decPositionCount(t.after),t}return null}_undoMove(){const e=this._history.pop();if(void 0===e)return null;const t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const n=this._turn,o=T(n);if(this._board[t.from]=this._board[t.to],this._board[t.from].type=t.piece,delete this._board[t.to],t.captured)if(t.flags&p.EP_CAPTURE){let e;e=n===r?t.to-16:t.to+16,this._board[e]={type:i,color:o}}else this._board[t.to]={type:t.captured,color:o};if(t.flags&(p.KSIDE_CASTLE|p.QSIDE_CASTLE)){let e,n;t.flags&p.KSIDE_CASTLE?(e=t.to+1,n=t.to-1):(e=t.to-2,n=t.to+1),this._board[e]=this._board[n],delete this._board[n]}return t}pgn({newline:e="\n",maxWidth:t=0}={}){const n=[];let o=!1;for(const t in this._header)n.push("["+t+' "'+this._header[t]+'"]'+e),o=!0;o&&this._history.length&&n.push(e);const r=e=>{const t=this._comments[this.fen()];if(void 0!==t){e=`${e}${e.length>0?" ":""}{${t}}`}return e},i=[];for(;this._history.length>0;)i.push(this._undoMove());const s=[];let a="";for(0===i.length&&s.push(r(""));i.length>0;){a=r(a);const e=i.pop();if(!e)break;if(this._history.length||"b"!==e.color)"w"===e.color&&(a.length&&s.push(a),a=this._moveNumber+".");else{const e=`${this._moveNumber}. ...`;a=a?`${a} ${e}`:e}a=a+" "+this._moveToSan(e,this._moves({legal:!0})),this._makeMove(e)}if(a.length&&s.push(r(a)),void 0!==this._header.Result&&s.push(this._header.Result),0===t)return n.join("")+s.join(" ");const c=function(){return n.length>0&&" "===n[n.length-1]&&(n.pop(),!0)},h=function(o,r){for(const i of r.split(" "))if(i){if(o+i.length>t){for(;c();)o--;n.push(e),o=0}n.push(i),o+=i.length,n.push(" "),o++}return c()&&o--,o};let l=0;for(let o=0;o<s.length;o++)l+s[o].length>t&&s[o].includes("{")?l=h(l,s[o]):(l+s[o].length>t&&0!==o?(" "===n[n.length-1]&&n.pop(),n.push(e),l=0):0!==o&&(n.push(" "),l++),n.push(s[o]),l+=s[o].length);return n.join("")}header(...e){for(let t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(this._header[e[t]]=e[t+1]);return this._header}loadPgn(e,{strict:t=!1,newlineChar:n="\r?\n"}={}){function o(e){return e.replace(/\\/g,"\\")}e=e.trim();const r=new RegExp("^(\\[((?:"+o(n)+")|.)*\\])((?:\\s*"+o(n)+"){2}|(?:\\s*"+o(n)+")*$)").exec(e),i=r&&r.length>=2?r[1]:"";this.reset();const s=function(e){const t={},r=e.split(new RegExp(o(n)));let i="",s="";for(let e=0;e<r.length;e++){const n=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;i=r[e].replace(n,"$1"),s=r[e].replace(n,"$2"),i.trim().length>0&&(t[i]=s)}return t}(i);let a="";for(const e in s)"fen"===e.toLowerCase()&&(a=s[e]),this.header(e,s[e]);if(t){if("1"===s.SetUp){if(!("FEN"in s))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(s.FEN,{preserveHeaders:!0})}}else a&&this.load(a,{preserveHeaders:!0});const c=function(e){return`{${function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/%/g,"").toLowerCase()})).join("")}((e=e.replace(new RegExp(o(n),"g")," ")).slice(1,e.length-1))}}`},h=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+(e.match(/.{1,2}/g)||[]).join("%"))}(e.slice(1,e.length-1))};let l=e.replace(i,"").replace(new RegExp(`({[^}]*})+?|;([^${o(n)}]*)`,"g"),(function(e,t,n){return void 0!==t?c(t):" "+c(`{${n.slice(1)}}`)})).replace(new RegExp(o(n),"g")," ");const u=/(\([^()]+\))+?/g;for(;u.test(l);)l=l.replace(u,"");l=l.replace(/\d+\.(\.\.)?/g,""),l=l.replace(/\.\.\./g,""),l=l.replace(/\$\d+/g,"");let d=l.trim().split(new RegExp(/\s+/));d=d.filter((e=>""!==e));let p="";for(let e=0;e<d.length;e++){const n=h(d[e]);if(void 0!==n){this._comments[this.fen()]=n;continue}const o=this._moveFromSan(d[e],t);if(null==o){if(!(x.indexOf(d[e])>-1))throw new Error(`Invalid move in PGN: ${d[e]}`);p=d[e]}else p="",this._makeMove(o),this._incPositionCount(this.fen())}p&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",p)}_moveToSan(e,t){let n="";if(e.flags&p.KSIDE_CASTLE)n="O-O";else if(e.flags&p.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==i){const o=function(e,t){const n=e.from,o=e.to,r=e.piece;let i=0,s=0,a=0;for(let e=0,c=t.length;e<c;e++){const c=t[e].from,h=t[e].to;r===t[e].piece&&n!==c&&o===h&&(i++,y(n)===y(c)&&s++,P(n)===P(c)&&a++)}return i>0?s>0&&a>0?k(n):a>0?k(n).charAt(1):k(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+o}e.flags&(p.CAPTURE|p.EP_CAPTURE)&&(e.piece===i&&(n+=k(e.from)[0]),n+="x"),n+=k(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,t=!1){const n=O(e);let o,r,i,s,a,c=R(n),h=this._moves({legal:!0,piece:c});for(let e=0,t=h.length;e<t;e++)if(n===O(this._moveToSan(h[e],h)))return h[e];if(t)return null;let l=!1;if(r=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),r?(o=r[1],i=r[2],s=r[3],a=r[4],1==i.length&&(l=!0)):(r=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),r&&(o=r[1],i=r[2],s=r[3],a=r[4],1==i.length&&(l=!0))),c=R(n),h=this._moves({legal:!0,piece:o||c}),!s)return null;for(let e=0,t=h.length;e<t;e++)if(i){if(!(o&&o.toLowerCase()!=h[e].piece||f[i]!=h[e].from||f[s]!=h[e].to||a&&a.toLowerCase()!=h[e].promotion))return h[e];if(l){const t=k(h[e].from);if(!(o&&o.toLowerCase()!=h[e].piece||f[s]!=h[e].to||i!=t[0]&&i!=t[1]||a&&a.toLowerCase()!=h[e].promotion))return h[e]}}else if(n===O(this._moveToSan(h[e],h)).replace("x",""))return h[e];return null}ascii(){let e="   +------------------------+\n";for(let t=f.a8;t<=f.h1;t++){if(0===P(t)&&(e+=" "+"87654321"[y(t)]+" |"),this._board[t]){const n=this._board[t].type;e+=" "+(this._board[t].color===o?n.toUpperCase():n.toLowerCase())+" "}else e+=" . ";t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h",e}perft(e){const t=this._moves({legal:!1});let n=0;const o=this._turn;for(let r=0,i=t.length;r<i;r++)this._makeMove(t[r]),this._isKingAttacked(o)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}_makePretty(e){const{color:t,piece:n,from:o,to:r,flags:i,captured:s,promotion:a}=e;let c="";for(const e in p)p[e]&i&&(c+=d[e]);const h=k(o),l=k(r),u={color:t,piece:n,from:h,to:l,san:this._moveToSan(e,this._moves({legal:!0})),flags:c,lan:h+l,before:this.fen(),after:""};return this._makeMove(e),u.after=this.fen(),this._undoMove(),s&&(u.captured=s),a&&(u.promotion=a,u.lan+=a),u}turn(){return this._turn}board(){const e=[];let t=[];for(let n=f.a8;n<=f.h1;n++)null==this._board[n]?t.push(null):t.push({square:k(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}squareColor(e){if(e in f){const t=f[e];return(y(t)+P(t))%2==0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],n=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const o=t.pop();if(!o)break;e?n.push(this._makePretty(o)):n.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return n}_getPositionCount(e){const t=L(e);return this._positionCount[t]||0}_incPositionCount(e){const t=L(e);void 0===this._positionCount[t]&&(this._positionCount[t]=0),this._positionCount[t]+=1}_decPositionCount(e){const t=L(e);1===this._positionCount[t]?delete this._positionCount[t]:this._positionCount[t]-=1}_pruneComments(){const e=[],t={},n=e=>{e in this._comments&&(t[e]=this._comments[e])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const t=e.pop();if(!t)break;this._makeMove(t),n(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map((e=>({fen:e,comment:this._comments[e]})))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map((e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}}))}setCastlingRights(e,t){for(const n of[h,c])void 0!==t[n]&&(t[n]?this._castling[e]|=C[n]:this._castling[e]&=~C[n]);this._updateCastlingRights();const n=this.getCastlingRights(e);return!(void 0!==t[h]&&t[h]!==n[h]||void 0!==t[c]&&t[c]!==n[c])}getCastlingRights(e){return{[h]:!!(this._castling[e]&C[h]),[c]:!!(this._castling[e]&C[c])}}moveNumber(){return this._moveNumber}}},201:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n(601),r=n.n(o),i=n(314),s=n.n(i)()(r());s.push([e.id,'/*! chessboard.js v1.0.0 | (c) 2019 Chris Oakman | MIT License chessboardjs.com/license */\n.clearfix-7da63{clear:both}.board-b72b1{border:2px solid #404040;box-sizing:content-box}.square-55d63{float:left;position:relative;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.white-1e1d7{background-color:#f0d9b5;color:#b58863}.black-3c85d{background-color:#b58863;color:#f0d9b5}.highlight1-32417,.highlight2-9c5d2{box-shadow:inset 0 0 3px 3px #ff0}.notation-322f9{cursor:default;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:14px;position:absolute}.alpha-d2270{bottom:1px;right:3px}.numeric-fc462{top:2px;left:2px}',""]);const a=s},365:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var o=n(601),r=n.n(o),i=n(314),s=n.n(i)()(r());s.push([e.id,".chess-game {\n    padding: 5px;\n\n    q {\n        font-style: italic;\n        font-weight: 500;\n    }\n\n    .chess-black {\n        color: black;\n        -webkit-text-stroke: 1px white;\n    }\n\n    .chess-white {\n        color: white;\n        -webkit-text-stroke: 1px black;\n    }\n\n    .avatar {\n        flex: unset;\n    }\n\n    .gray {\n        filter: grayscale(0.5) brightness(0.85);\n    }\n\n    .chessboard {\n        width: 100%;\n        max-width: 450px;\n        align-self: center;\n    }\n}\n",""]);const a=s},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var h=0;h<e.length;h++){var l=[].concat(e[h]);o&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},416:(e,t,n)=>{"use strict";var o=n(72),r=n.n(o),i=n(825),s=n.n(i),a=n(659),c=n.n(a),h=n(56),l=n.n(h),u=n(540),d=n.n(u),p=n(113),f=n.n(p),g=n(201),m={};m.styleTagTransform=f(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=d();r()(g.A,m),g.A&&g.A.locals&&g.A.locals},788:(e,t,n)=>{"use strict";var o=n(72),r=n.n(o),i=n(825),s=n.n(i),a=n(659),c=n.n(a),h=n(56),l=n.n(h),u=n(540),d=n.n(u),p=n(113),f=n.n(p),g=n(365),m={};m.styleTagTransform=f(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=d();r()(g.A,m),g.A&&g.A.locals&&g.A.locals},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},s=[],a=0;a<e.length;a++){var c=e[a],h=o.base?c[0]+o.base:c[0],l=i[h]||0,u="".concat(h," ").concat(l);i[h]=l+1;var d=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=r(p,o);o.byIndex=a,t.splice(a,0,{identifier:u,updater:f,references:1})}s.push(u)}return s}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var c=o(e,r),h=0;h<i.length;h++){var l=n(i[h]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},659:e=>{"use strict";var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,exports:{}};return r[e](n,n.exports,s),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(r,i,s)=>{var a;s&&((a=[]).d=-1);var c,h,l,u=new Set,d=r.exports,p=new Promise(((e,t)=>{l=t,h=e}));p[t]=d,p[e]=e=>(a&&e(a),u.forEach(e),p.catch((e=>{}))),r.exports=p,i((r=>{var i;c=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var i=[];i.d=0,r.then((e=>{s[t]=e,o(i)}),(e=>{s[n]=e,o(i)}));var s={};return s[e]=e=>e(i),s}}var a={};return a[e]=e=>{},a[t]=r,a})))(r);var s=()=>c.map((e=>{if(e[n])throw e[n];return e[t]})),h=new Promise((t=>{(i=()=>t(s)).r=0;var n=e=>e!==a&&!u.has(e)&&(u.add(e),e&&!e.d&&(i.r++,e.push(i)));c.map((t=>t[e](n)))}));return i.r?h:s()}),(e=>(e?l(p[n]=e):h(d),o(a)))),a&&a.d<0&&(a.d=0)},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.nc=void 0;s(619)})();